### 列表和元组

#### 序列的定义

序列是包含多个数据项的对象，数据项按顺序依次存储。

#### Python 中的序列类型

Python 提供多种序列类型，包括列表（list）和元组（tuple）：

- **列表**：可变（mutable），即创建后可修改其元素。
- **元组**：不可变（immutable），创建后元素无法修改。

#### 列表

列表是包含多个数据项的对象，其中的单个数据项称为**元素（Element）**。

创建一个列表，只要把逗号分隔的不同的数据项使用方括号括起来即可。如下所示：

```python
list1 = ['physics', 'chemistry', 1997, 2000] 
list2 = [1, 2, 3, 4, 5 ] 
list3 = ["a", "b", "c", "d"]
```

可包含不同类型的元素（如同时包含整数、字符串、布尔值等）

##### 列表的基本操作

- 可使用`print`函数直接输出整个列表。
- 可通过`list()`函数将某些类型的对象转换为列表（如将元组、字符串等转换为列表）。

```python
# 定义包含不同类型元素的列表
mixed_list = [10, "Python", True, 3.14]
print(mixed_list)  # 输出：[10, 'Python', True, 3.14]

# 将字符串转换为列表
str_to_list = list("Hello")
print(str_to_list)  # 输出：['H', 'e', 'l', 'l', 'o']

# 将元组转换为列表
tuple_to_list = list((1, 2, 3))
print(tuple_to_list)  # 输出：[1, 2, 3]
```

##### 重复运算符（Repetition Operator）

- 作用：创建列表的多个副本并拼接在一起。
- 语法：`列表 * 整数`（`*` 为重复运算符，左侧是序列，右侧是整数）。

```python 
my_list = [1, 2, 3]
repeated_list = my_list * 3
print(repeated_list)  # 输出：[1, 2, 3, 1, 2, 3, 1, 2, 3]
```

##### 列表的遍历（Iterating Over a List）

- 可通过`for`循环遍历列表，格式为`for x in 列表:`，其中`x`依次接收列表的每个元素。

```python
my_list = [1, 2, 3]
for element in my_list:
    print(element)
# 输出：
# 1
# 2
# 3
```



##### 索引的规则

列表中的每个元素都分配一个数字 - 它的位置，或索引，第一个索引是0，第二个索引是1，依此类推。

- 列表中第一个元素的索引是`0`，第二个是`1`，第`n`个元素的索引是`n-1`。
- 支持负索引，负索引相对于列表末尾定位元素：`-1`表示最后一个元素，`-2`表示倒数第二个元素，以此类推。

```python
my_list = [10, 20, 30, 40, 50]
# 正索引访问
print(my_list[0])   # 输出：10（第一个元素）
print(my_list[2])   # 输出：30（第三个元素）
# 负索引访问
print(my_list[-1])  # 输出：50（最后一个元素）
print(my_list[-3])  # 输出：30（倒数第三个元素）
```

###### 索引异常（IndexError）

若使用了无效的索引（如超出列表长度的索引），会触发`IndexError`异常，导致程序终止。

##### len 函数的作用

- 用于返回序列（如列表）的长度，即列表中元素的数量。
- 示例：`size = len(my_list)`。
- 列表最后一个元素的索引为`len(list) - 1`，可通过`len`函数避免因索引无效触发`IndexError`（如循环遍历列表时）。

##### 列表的可变性

###### 可变序列的定义

可变序列是指序列中的元素可以被修改的序列，列表属于可变序列，其元素可被更改。

###### 列表元素的修改方式

可通过`list[索引] = 新值`的形式为列表元素赋值新值，需注意使用有效的索引以避免触发`IndexError`异常。

```python
my_list = [10, 20, 30]
# 修改索引为1的元素
my_list[1] = 200
print(my_list)  # 输出：[10, 200, 30]

# 无效索引会触发异常
# my_list[3] = 40  # 索引3超出列表长度，触发IndexError
```

##### 列表的拼接

拼接是指将两个事物连接在一起，在列表操作中即把两个列表合并为一个。可使用`+`运算符拼接两个列表，需注意只能拼接列表与列表，不能将列表与其他数据类型（如数字）拼接。也可使用`+=`增强赋值运算符来拼接列表。

```python
# 使用+运算符拼接列表
list1 = [1, 2, 3]
list2 = [4, 5, 6]
concatenated_list = list1 + list2
print(concatenated_list)  # 输出：[1, 2, 3, 4, 5, 6]

# 错误示例：列表与数字拼接
# invalid_concat = list1 + 7  # 触发TypeError

# 使用+=运算符拼接列表
list1 += list2
print(list1)  # 输出：[1, 2, 3, 4, 5, 6]
```

##### 列表切片

切片是从序列中提取的一段元素，在列表中通过`list[start:end]`的格式实现。提取的元素范围是从`start`索引开始，到`end`索引结束（不包含`end`索引）。若未指定`start`，默认从索引`0`开始；若未指定`end`，默认到列表长度（`len(list)`）结束。切片表达式可包含步长（`step`）和负索引（基于列表末尾的相对位置）。

```python
my_list = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# 基本切片：提取索引2到5（不包含5）的元素
print(my_list[2:5])  # 输出：[2, 3, 4]

# 省略start：从索引0开始
print(my_list[:5])   # 输出：[0, 1, 2, 3, 4]

# 省略end：到列表末尾结束
print(my_list[5:])   # 输出：[5, 6, 7, 8, 9]

# 包含步长：每隔一个元素提取
print(my_list[0:10:2])  # 输出：[0, 2, 4, 6, 8]

# 负索引：从后往前切片
print(my_list[-5:-2])   # 输出：[5, 6, 7]
```

##### 判定元素是否在列表内

可使用`in`运算符判断一个元素是否包含在列表中，语法格式为`item in list`，若元素在列表中返回`True`，否则返回`False`。类似地，可使用`not in`运算符判断一个元素是否不在列表中。

```python
my_list = [10, 20, 30, 40, 50]
# 使用in运算符判断元素是否存在
print(20 in my_list)    # 输出：True
print(60 in my_list)    # 输出：False

# 使用not in运算符判断元素是否不存在
print(20 not in my_list)  # 输出：False
print(60 not in my_list)  # 输出：True
```
##### 删除列表元素

可以使用 del 语句来删除列表的元素，如下实例：

```python
list1 = ['physics', 'chemistry', 1997, 2000]
 
print list1
del list1[2]
print "After deleting value at index 2 : "
print list1
'''
输出
['physics', 'chemistry', 1997, 2000]
After deleting value at index 2 :
['physics', 'chemistry', 2000]
'''
```



##### 常用list方法

| 格式                                                         | 作用                                                         |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| [list.append(obj)](https://www.runoob.com/python/att-list-append.html) | 在列表末尾添加新的对象                                       |
| [list.count(obj)](https://www.runoob.com/python/att-list-count.html) | 统计某个元素在列表中出现的次数                               |
| [list.extend(seq)](https://www.runoob.com/python/att-list-extend.html) | 在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表） |
| [list.index(obj)](https://www.runoob.com/python/att-list-index.html) | 从列表中找出某个值第一个匹配项的索引位置                     |
| [list.insert(index, obj)](https://www.runoob.com/python/att-list-insert.html) | 将对象插入列表                                               |
| [list.pop(index=-1)](https://www.runoob.com/python/att-list-pop.html) | 移除列表中的一个元素（默认最后一个元素），并且返回该元素的值 |
| [list.remove(obj)](https://www.runoob.com/python/att-list-remove.html) | 移除列表中某个值的第一个匹配项                               |
| [list.reverse()](https://www.runoob.com/python/att-list-reverse.html) | 反向列表中元素                                               |
| [list.sort(cmp=None, key=None, reverse=False)](https://www.runoob.com/python/att-list-sort.html) | 对原列表进行排序                                             |

| 格式                                                         | 作用                     |
| :----------------------------------------------------------- | :----------------------- |
| [cmp(list1, list2)](https://www.runoob.com/python/att-list-cmp.html) | 比较两个列表的元素       |
| sum(list)                                                    | 返回数值序列中所有值的和 |
| [max(list)](https://www.runoob.com/python/att-list-max.html) | 返回列表元素最大值       |
| [min(list)](https://www.runoob.com/python/att-list-min.html) | 返回列表元素最小值       |
| [list(seq)](https://www.runoob.com/python/att-list-list.html) | 将元组转换为列表         |

##### 列表的复制

要复制一个列表，必须复制列表中的每个元素。

###### 列表复制的两种方法

- **方法一**：创建一个新的空列表，使用`for`循环将原列表中的每个元素的副本添加到新列表中。

  ```python
  original_list = [1, 2, 3, 4, 5]
  new_list = []
  for element in original_list:
      new_list.append(element)
  print(new_list)  # 输出：[1, 2, 3, 4, 5]
  ```

- **方法二**：创建一个新的空列表，将旧列表拼接到这个新的空列表上。

  ```python
  original_list = [1, 2, 3, 4, 5]
  new_list = [] + original_list
  print(new_list)  # 输出：[1, 2, 3, 4, 5]
  ```

##### 列表的引用传递特性

若直接将列表赋值给另一个变量（如`list2 = list1`），两个变量会**引用同一个列表对象**。此时修改其中一个变量的元素，另一个变量的内容也会随之改变。

```python
list1 = [1, 2, 3, 4]
list2 = list1  # 直接赋值，引用同一个列表

# 修改list2的元素
list2[0] = 100

print(list1)  # 输出：[100, 2, 3, 4]
print(list2)  # 输出：[100, 2, 3, 4]
```

###### 与 “真正复制” 的区别

这种直接赋值并非 “复制列表元素”，而是 “复制列表的引用”。若需要创建独立的列表副本，需使用前文中的**元素级复制方法**（如 for 循环逐个复制、列表拼接等）。在作为返回值被函数返回时，函数可以返回对列表的引用，即返回的是列表的内存地址，而非元素的副本。

这种机制的作用是让开发者明确列表赋值的底层逻辑，避免因 “引用传递” 导致的意外数据修改，适用于需要严格区分 “原列表” 和 “副本” 的场景（如数据备份、并行处理等）。

##### 列表推导式

列表推导式是一种简洁的表达式，通过遍历现有列表的元素来创建一个新列表。

```python
# 普通循环创建新列表
original_list = [1, 2, 3, 4, 5]
new_list = []
for num in original_list:
    new_list.append(num * 2)
print(new_list)  # 输出：[2, 4, 6, 8, 10]

# 列表推导式创建新列表
new_list_comprehension = [num * 2 for num in original_list]
print(new_list_comprehension)  # 输出：[2, 4, 6, 8, 10]
```

##### 列表推导式的结构

列表推导式由 **结果表达式（Result Expression）和迭代表达式（Iteration Expression）** 组成，格式为`[结果表达式 for 目标变量 in 可迭代对象 条件语句(可选)]`。

<img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20251026105924438.png" alt="image-20251026105924438" style="zoom:50%;" />

迭代表达式的作用类似于`for`循环，用于遍历可迭代对象（如列表）的元素，每次迭代会将元素赋值给目标变量。

```python
list1 = [1, 2, 3, 4, 5]
# 列表推导式复制列表
list2 = [item for item in list1]	# list2 = [item for item in list1 if item < 10]条件表达式
print(list2)  # 输出：[1, 2, 3, 4, 5]

# 带结果表达式的列表推导式
list3 = [item * 2 for item in list1]
print(list3)  # 输出：[2, 4, 6, 8, 10]

```

#### 二维列表（Two-Dimensional Lists）

##### 二维列表的定义

二维列表是包含其他列表作为元素的列表，也称为嵌套列表（nested list）。通常可将其理解为具有行和列的结构，适用于处理多组数据的场景。

##### 二维列表的处理方式

- 处理二维列表中的数据需要使用两个索引（分别对应行和列）。

  <img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20251026110347638.png" alt="image-20251026110347638" style="zoom:50%;" />

- 通常使用嵌套循环来处理二维列表的元素。

```python
# 定义一个二维列表（3行2列）
two_d_list = [
    [1, 2],
    [3, 4],
    [5, 6]
]

# 访问二维列表的元素
print(two_d_list[0][1])  # 输出：2（第0行第1列）

# 使用嵌套循环遍历二维列表
for row in two_d_list:
    for element in row:
        print(element, end=" ")
    print()
# 输出：
# 1 2 
# 3 4 
# 5 6 
```

#### 元组

Python 的元组与列表类似，不同之处在于元组的元素不能修改。

- 无法向元组添加新元素。
- 无法从元组中删除元素。
- 元组元素存储的值无法被修改。

元组使用小括号，列表使用方括号。元组创建很简单，只需要在括号中添加元素，并使用逗号隔开即可。

```python
# 定义元组
my_tuple = (10, 20, 30)
print(my_tuple)  # 输出：(10, 20, 30)

# 尝试修改元组元素（触发异常）
# my_tuple[0] = 100  # 触发TypeError

# 尝试添加元素（触发异常）
# my_tuple.append(40)  # 触发AttributeError
```

##### 元组的操作

元组支持多种列表的操作方式，包括：

- 下标索引（用于获取元素）。
- `index`等方法。
- `len`、`min`、`max`等内置函数。
- 切片表达式。
- `in`、`+`、`*`等运算符。

```python
# 创建元组
tuple1 = (10, 20, 30)
tuple2 = (40,)  # 单个元素的元组

# 下标索引
print(tuple1[1])  # 输出：20

# index方法
print(tuple1.index(30))  # 输出：2

# 内置函数
print(len(tuple1))  # 输出：3
print(min(tuple1))  # 输出：10
print(max(tuple1))  # 输出：30

# 切片
print(tuple1[0:2])  # 输出：(10, 20)

# 运算符
print(20 in tuple1)  # 输出：True
tuple3 = tuple1 + tuple2
print(tuple3)  # 输出：(10, 20, 30, 40)
tuple4 = tuple1 * 2
print(tuple4)  # 输出：(10, 20, 30, 10, 20, 30)
```

##### 元组不支持如下操作

- `append`：向序列末尾添加元素。
- `remove`：从序列中删除指定元素。
- `insert`：在指定位置插入元素。
- `reverse`：反转序列元素的顺序。
- `sort`：对序列元素进行排序。

##### 元组与可变对象的存储关系

尽管元组本身是不可变的，但可以在元组中存储**可变对象**（如列表）。元组的不可变性是指其**元素的引用不可变**（即不能替换元组中的元素），但如果元素是可变对象（如列表），则该对象的内部内容可以被修改。

```python
# 定义包含列表的元组
t = (10, 20, [97, 98, 99])
print(t)  # 输出：(10, 20, [97, 98, 99])

# 修改元组中的列表元素（元组本身未被修改）
t[2][0] = 100
print(t)  # 输出：(10, 20, [100, 98, 99])
```

##### 使用元组的原因

- **处理速度更快**：元组的处理速度比列表快。
- **提供安全性：**
  - 无法向元组添加或删除元素。
  - 元组创建后，其元素始终引用相同的对象。
- **Python 部分操作的需求**：某些 Python 操作必须使用元组。

#### 类型转换函数

- `list()` 函数：将元组转换为列表。
- `tuple()` 函数：将列表转换为元组。
